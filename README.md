# 小红书AI自动回复工具 - 部署指南

## 📖 项目简介

小红书AI自动回复工具是一个基于Tampermonkey的浏览器脚本，专为小红书专业版私信管理设计。通过集成FastGPT API，实现智能化的客户服务自动化，大幅提升工作效率。

### 🚀 核心功能

- **🤖 AI智能回复**：基于FastGPT API的智能对话系统
- **🎯 智能获客**：自动识别客户意图，推送相关获客工具
- **📝 会话记忆**：记住客户历史对话，提供个性化服务
- **🔄 自动追粉**：智能回访潜在客户，提高转化率
- **🚫 黑名单管理**：自动屏蔽问题用户，维护服务质量
- **💡 聚光进线处理**：专门处理广告进线用户
- **📊 数据统计**：详细的使用统计和性能监控
- **🔧 配置管理**：支持配置导入导出，便于团队协作

## 📋 前置要求

### 1. 浏览器要求
- **推荐浏览器**：Chrome、Edge、Firefox
- **版本要求**：支持现代JavaScript特性的版本

### 2. 必需软件
- **Tampermonkey扩展**：用于运行用户脚本
- **小红书专业版账号**：需要有私信管理权限

### 3. API服务
- **FastGPT API密钥**：用于AI对话功能
- **API地址**：默认使用 `https://api.fastgpt.in/api/v1/chat/completions`

## 🛠️ 安装步骤

### 第一步：安装Tampermonkey扩展

#### Chrome浏览器：
1. 打开Chrome浏览器
2. 访问 [Chrome网上应用店](https://chrome.google.com/webstore/category/extensions)
3. 搜索"Tampermonkey"
4. 点击"添加至Chrome"按钮
5. 在弹出窗口中点击"添加扩展程序"

#### Edge浏览器：
1. 打开Edge浏览器
2. 访问 [Microsoft Edge加载项](https://microsoftedge.microsoft.com/addons/Microsoft-Edge-Extensions-Home)
3. 搜索"Tampermonkey"
4. 点击"获取"按钮安装

#### Firefox浏览器：
1. 打开Firefox浏览器
2. 访问 [Firefox附加组件](https://addons.mozilla.org/)
3. 搜索"Tampermonkey"
4. 点击"添加到Firefox"

### 第二步：安装脚本

1. **确认Tampermonkey已安装**
   - 浏览器右上角应该出现Tampermonkey图标（黑色方块）

2. **打开Tampermonkey管理面板**
   - 点击Tampermonkey图标
   - 选择"管理面板"

3. **创建新脚本**
   - 点击"+"号或"创建新脚本"按钮
   - 删除默认内容

4. **复制脚本代码**
   - 将`小红书AI自动回复工具.user.js`文件中的所有代码复制
   - 粘贴到Tampermonkey编辑器中

5. **保存脚本**
   - 按`Ctrl+S`保存脚本
   - 或点击"文件"→"保存"

### 第三步：获取FastGPT API密钥

1. **注册FastGPT账号**
   - 访问 [FastGPT官网](https://fastgpt.in/)
   - 注册并登录账号

2. **获取API密钥**
   - 进入控制台
   - 找到API密钥管理
   - 创建新的API密钥
   - **重要**：妥善保存API密钥，只显示一次

3. **充值账户**
   - 根据使用需求充值
   - 建议先充值少量进行测试

## ⚙️ 配置指南

### 第一步：打开小红书专业版

1. 访问 `https://pro.xiaohongshu.com/im/multiCustomerService`
2. 登录你的小红书专业版账号
3. 进入私信管理页面

### 第二步：打开控制面板

脚本安装成功后，在小红书专业版页面：
- 按快捷键 `Ctrl+Shift+X` 打开控制面板
- 或者等待页面加载完成后自动弹出配置提示

### 第三步：基础配置

#### 1. API配置
```
- API密钥：粘贴你的FastGPT API密钥
- API地址：保持默认或使用自定义地址
- 回复延迟：建议设置3-5秒（避免被限制）
- 最大重试次数：建议设置3次
```

#### 2. 系统提示词配置
```
默认提示词：你是一个友好的客服助手，请根据用户的消息给出合适的回复。回复要简洁、礼貌、有帮助。

自定义示例：
你是[公司名称]的专业客服，擅长[产品/服务]咨询。请：
1. 保持友好专业的语气
2. 回复简洁明了，不超过100字
3. 主动引导客户了解产品详情
4. 适时推荐相关服务
```

#### 3. 功能开关
- **自动回复**：开启AI自动回复功能
- **调试模式**：新手建议开启，便于查看运行日志
- **智能获客**：根据需要开启客户获取功能

## 🎮 使用指南

### 快捷键操作
- `Ctrl+Shift+X`：显示/隐藏控制面板
- `Ctrl+Shift+S`：启动/停止自动回复
- `Ctrl+Shift+R`：重启应用
- `Ctrl+Shift+D`：切换调试模式

### 基本操作流程

1. **启动脚本**
   - 打开小红书专业版私信页面
   - 按`Ctrl+Shift+X`打开控制面板
   - 点击"启动自动回复"按钮

2. **监控运行状态**
   - 查看控制面板中的运行状态
   - 观察日志输出（调试模式下）
   - 注意API调用次数和余额

3. **处理客户消息**
   - 脚本会自动检测新消息
   - AI分析消息内容并生成回复
   - 自动发送回复给客户

### 高级功能使用

#### 智能获客配置
```
触发轮次：第2轮对话开始触发
关键词：价格,了解,购买,咨询,详细,怎么样,多少钱,联系,微信
工具类型：留资卡
延迟时间：2秒
```

#### 自动追粉设置
```
扫描天数：3天内的用户
回访间隔：24小时
最大回访次数：2次
回访模板：支持自定义多个模板
```

## 📊 功能详解

### 1. AI自动回复
- **工作原理**：监听新消息→AI分析→生成回复→自动发送
- **支持类型**：文本消息、表情消息、卡片消息
- **智能特性**：上下文理解、情感分析、意图识别

### 2. 会话记忆
- **记忆时长**：默认7天
- **存储内容**：对话历史、客户偏好、交互记录
- **隐私保护**：本地存储，不上传服务器

### 3. 黑名单管理
- **自动检测**：识别被屏蔽用户并自动加入黑名单
- **手动管理**：支持手动添加/移除黑名单用户
- **智能过滤**：避免对黑名单用户进行无效操作

### 4. 数据统计
- **回复统计**：成功/失败次数、响应时间
- **API使用**：调用次数、消耗统计
- **性能监控**：系统健康度、错误率

## ❓ 常见问题

### Q1: 脚本无法启动怎么办？
**A1**: 检查以下几点：
1. 确认Tampermonkey已正确安装
2. 检查脚本是否已启用
3. 刷新小红书专业版页面
4. 查看浏览器控制台是否有错误信息

### Q2: AI不回复消息怎么办？
**A2**: 可能的原因：
1. API密钥未配置或已过期
2. API余额不足
3. 网络连接问题
4. 消息类型不支持

### Q3: 回复速度太快被限制怎么办？
**A3**: 调整配置：
1. 增加回复延迟时间（建议5-10秒）
2. 减少并发处理数量
3. 启用随机延迟功能

### Q4: 如何备份配置？
**A4**: 使用配置管理功能：
1. 打开控制面板
2. 点击"导出配置"按钮
3. 保存JSON文件到安全位置

## ⚠️ 注意事项

### 使用规范
1. **遵守平台规则**：不要发送违规内容
2. **合理使用频率**：避免过于频繁的操作
3. **保护隐私**：不要泄露客户敏感信息
4. **定期维护**：及时更新脚本和配置

### 安全建议
1. **API密钥安全**：不要分享给他人
2. **定期备份**：备份重要配置和数据
3. **监控使用**：关注API消耗和账户余额
4. **及时更新**：保持脚本为最新版本

### 性能优化
1. **合理配置延迟**：平衡效率和安全
2. **定期清理数据**：清理过期的会话记录
3. **监控系统资源**：避免占用过多内存
4. **优化提示词**：使用简洁有效的提示词

## 🔧 故障排除

### 常见错误及解决方案

#### 错误1：API调用失败
```
原因：API密钥错误或网络问题
解决：检查API密钥，测试网络连接
```

#### 错误2：消息发送失败
```
原因：页面元素变化或权限问题
解决：刷新页面，检查登录状态
```

#### 错误3：脚本运行缓慢
```
原因：系统资源不足或配置不当
解决：优化配置，重启浏览器
```

### 调试技巧
1. **开启调试模式**：查看详细日志
2. **使用浏览器开发者工具**：检查网络请求
3. **分步测试**：逐个功能测试
4. **查看错误日志**：分析具体错误原因

## 📞 技术支持

如果遇到问题，可以：
1. 查看脚本内置的帮助文档
2. 检查浏览器控制台的错误信息
3. 尝试重新安装脚本
4. 联系技术支持（如有提供）

---

**祝您使用愉快！** 🎉

> 本指南适用于小红书AI自动回复工具 v1.1.0
> 最后更新：2025年
